## 1. 소스코드 전부 갈아엎음
- jwt 401 이슈로 하루종일 오류에서 허덕이다 결국 소스코드 전부 갈아엎기로 맘먹었다.
- nestjs 기본 jwt 예제 코드에 맞게 user entity 갈아엎고 orm과 연동하였다.
- spring이랑 다르게 controller끼리 묶고 domain 끼리 묶고가 아닌 기능별로 묶고 그 안에 controller, service가 있는 구조가 국룰인가보다.


## 2. 폴더링
```
C:.
│  app.controller.spec.ts
│  app.controller.ts
│  app.module.ts
│  app.service.ts
│  main.ts
│
├─auth
│  │  auth.controller.ts
│  │  auth.guard.ts
│  │  auth.module.ts
│  │  auth.service.ts
│  │  constants.ts
│  │
│  └─decorators
│          public.decorator.ts
│
├─dto
│      change-password.dto.ts
│      login.dto.ts
│      register.dto.ts
│
├─entities
│      user.entity.ts
│
└─users
        users.controller.ts
        users.module.ts
        users.service.spec.ts
        users.service.ts
```



## 3. change-password 요구사항 확인

- 로그인한 사용자는 비밀번호를 변경할 수 있어야 합니다. ✅
- 새로운 비밀번호는 안전한 방식으로 저장되어야 합니다. ✅

```
mysql> SELECT * FROM opstest.user;
+----+--------------------------------------------------------------+--------+----------------+
| id | password                                                     | role   | username       |
+----+--------------------------------------------------------------+--------+----------------+
| 10 | $2b$10$rIAYknSyZc8WO5zGlQTyFOM66t2yTw2w6OEALPeM9Gxrt7C86p2Lq | MEMBER | test@gmail.com |
+----+--------------------------------------------------------------+--------+----------------+
1 row in set (0.00 sec)
```

- 다음과 같이 안전하게 비밀번호가 잘 변경된 것을 볼 수 있다